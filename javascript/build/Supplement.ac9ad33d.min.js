!function(e){function t(t){for(var n,r,i=t[0],o=t[1],c=t[2],m=0,d=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);d.length;)d.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==s[o]&&(n=!1)}n&&(l.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={19:0},l=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=o;l.push([189,0]),a()}({189:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a.n(n),l=a(9),r=a.n(l),i=a(10),o=a.n(i),c=a(6),u=a.n(c),m=a(2),d=a.n(m),p=a(11),g=a.n(p),h=a(0),f=a.n(h),v=a(12),b=a.n(v),E=a(1),y=a.n(E),k=a(39),w=function(e){function t(e){var a;return s()(this,t),(a=o()(this,u()(t).call(this,e))).state={},a.missingInfo=a.missingInfo.bind(d()(a)),a}return g()(t,e),r()(t,[{key:"missingInfo",value:function(){for(var e=0;e<this.props.count;e++){var t=this.props.guests[e];if(0===t.email.length||0===t.firstName.length||0===t.lastName.length||null===t.email.match(/^[\w.%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/))return!0}return!1}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.count;t++){var a=this.props.guests[t];e.push(f.a.createElement(k.a,{key:t,guest:a,count:t,update:this.props.update}))}var n=this.missingInfo();return f.a.createElement("div",null,f.a.createElement("h3",null,"Please fill out information on your new guests."),f.a.createElement("div",null,e),f.a.createElement("div",{className:"text-center"},f.a.createElement("div",{className:"mb-2"},f.a.createElement("button",{className:"btn btn-primary",disabled:n,onClick:this.props.saveGuests},n?"Complete the above to continue":"Save guests")),f.a.createElement("div",null,f.a.createElement("button",{className:"btn btn-info",onClick:this.props.goBack},"Go back"))))}}]),t}(h.Component);w.propTypes={guests:y.a.array,update:y.a.func,saveGuests:y.a.func,count:y.a.number,goBack:y.a.func};var N=a(40);a.d(t,"default",(function(){return S}));var S=function(e){function t(e){var a;return s()(this,t),(a=o()(this,u()(t).call(this,e))).state={registration:{},addOnInfo:{},conference:{},session:{},loading:!0,supplement:{id:0,newGuests:0,newMeals:0,newVeggie:0},totalGuests:0,totalMeals:0,totalVeggie:0,totalGuestCost:0,totalMealCost:0,guests:[],errorScreen:!1,guestScreen:!1},a.defaultGuest={id:"0",email:"",firstName:"",lastName:"",registrationId:"0",supplementId:"0"},a.increaseMeals=a.increaseMeals.bind(d()(a)),a.decreaseMeals=a.decreaseMeals.bind(d()(a)),a.increaseGuests=a.increaseGuests.bind(d()(a)),a.decreaseGuests=a.decreaseGuests.bind(d()(a)),a.increaseVeggie=a.increaseVeggie.bind(d()(a)),a.decreaseVeggie=a.decreaseVeggie.bind(d()(a)),a.updateGuest=a.updateGuest.bind(d()(a)),a.guestScreen=a.guestScreen.bind(d()(a)),a.cancelSupplement=a.cancelSupplement.bind(d()(a)),a.goBack=a.goBack.bind(d()(a)),a.save=a.save.bind(d()(a)),a.changeSession=a.changeSession.bind(d()(a)),a}return g()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"updateGuest",value:function(e,t,a){var n=this.state.guests,s=n[e];s[t]=a.target.value,s.complete=s.firstName.length>0&&s.lastName.length>0&&s.email.length>0&&null!==s.email.match(/^[\w.%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/),this.setState({guests:n})}},{key:"cancelSupplement",value:function(){var e=this,t=this.state,a=t.supplement,n=t.registration;a.id>0?$.ajax({url:"conference/Visitor/Supplement/".concat(a.id,"/incomplete"),dataType:"json",type:"delete",success:function(){window.location.href="conference/Visitor/Registration/"+a.registrationId},error:function(){e.setState({errorScreen:!0})}}):window.location.href="conference/Visitor/Registration/"+n.id}},{key:"load",value:function(){var e=this;$.ajax({url:"conference/Visitor/Supplement/current",data:{registrationId:this.props.registrationId},dataType:"json",type:"get",success:function(t){var a=t.registration,n=t.session,s=t.supplement,l=t.guests,r=parseInt(s.newGuests)+parseInt(a.guestCount),i=parseInt(s.newMeals)+parseInt(a.mealTickets),o=parseInt(s.newVeggie)+parseInt(a.veggieMeals),c=parseFloat(n.mealCost)*s.newMeals,u=parseFloat(n.guestCost)*s.newGuests;0===l.length&&l.push(Object.assign({},e.defaultGuest)),e.setState({registration:t.registration,supplement:t.supplement,session:t.session,conference:t.conference,loading:!1,guests:l,totalGuests:r,totalMeals:i,totalVeggie:o,totalMealCost:c,totalGuestCost:u})},error:function(){e.setState({errorScreen:!0})}})}},{key:"save",value:function(){var e=this.state,t=e.supplement,a=e.registration,n=e.guests,s="conference/Visitor/Supplement",l="post";t.id>0&&(s=s+"/"+t.id,l="put"),$.ajax({url:s,data:{registrationId:a.id,newGuests:t.newGuests,newMeals:t.newMeals,newVeggie:t.newVeggie,guests:n},dataType:"json",type:l,success:function(e){window.location.href="conference/Visitor/Supplement/"+e.id+"/complete"},error:function(){alert("Server error prevented registration update.")}})}},{key:"goBack",value:function(){this.setState({guestScreen:!1})}},{key:"increaseMeals",value:function(){var e=this.state,t=e.supplement,a=e.session,n=e.totalMeals,s=e.totalMealCost,l=a.mealCost;t.newMeals++,n++,s+=parseFloat(l),this.setState({supplement:t,totalMeals:n,totalMealCost:s})}},{key:"decreaseMeals",value:function(){if(this.state.supplement.newMeals>0){var e=this.state,t=e.supplement,a=e.session,n=e.totalMeals,s=e.totalMealCost,l=e.totalVeggie,r=a.mealCost;t.newMeals--,t.newVeggie>t.newMeals&&(t.newVeggie=t.newMeals),l>--n&&(l=n),s-=parseFloat(r),this.setState({supplement:t,totalMeals:n,totalMealCost:s,totalVeggie:l})}}},{key:"increaseGuests",value:function(){var e=this.state,t=e.supplement,a=e.session,n=e.guests,s=this.state,l=s.totalGuests,r=s.totalGuestCost,i=parseInt(a.attendanceCap),o=a.guestCost;l>=i||(t.newGuests++,n.length<t.newGuests&&n.push(Object.assign({},this.defaultGuest)),l=parseInt(l)+1,r+=parseFloat(o),this.setState({supplement:t,totalGuests:l,totalGuestCost:r}))}},{key:"decreaseGuests",value:function(){var e=this.state,t=e.supplement,a=e.session;if(t.newGuests>0){var n=this.state,s=n.totalGuests,l=n.totalGuestCost,r=a.guestCost;t.newGuests--,s--,l-=parseFloat(r),this.setState({supplement:t,totalGuests:s,totalGuestCost:l})}}},{key:"increaseVeggie",value:function(){var e=parseInt(this.state.registration.attendanceCap),t=this.state,a=t.supplement,n=t.totalVeggie;n>=e||(a.newVeggie++,n++,this.setState({supplement:a,totalVeggie:n}))}},{key:"decreaseVeggie",value:function(){if(parseInt(this.state.supplement.newVeggie>0)){var e=this.state,t=e.supplement,a=e.totalVeggie;t.newVeggie--,a--,this.setState({supplement:t,totalVeggie:a})}}},{key:"disableMealMinus",value:function(){return 0===parseInt(this.state.supplement.newMeals)}},{key:"disableGuestMinus",value:function(){return 0===parseInt(this.state.supplement.newGuests)}},{key:"disableVeggieMinus",value:function(){return 0===parseInt(this.state.supplement.newVeggie)}},{key:"disableMealPlus",value:function(){return parseInt(this.state.totalMeals)>=parseInt(this.state.totalGuests)+4}},{key:"disableGuestPlus",value:function(){return parseInt(this.state.totalGuests)>=parseInt(this.state.session.attendanceCap)}},{key:"disableVeggiePlus",value:function(){return parseInt(this.state.totalVeggie)>=parseInt(this.state.totalMeals)}},{key:"submitButton",value:function(){var e=this.state.supplement,t=e.newMeals,a=e.newGuests;if(0==a&&0==t)return f.a.createElement("div",null);var n,s=function(e,t){return e>1?"".concat(t,"s"):t};return n=a>0&&t>0?a+" "+s(a,"guest")+" and "+t+" "+s(t,"meal ticket"):a>0?a+" "+s(a,"guest"):t+" "+s(t,"meal"),f.a.createElement("button",{className:"btn btn-success",onClick:this.guestScreen},"Add ",n,"Â to my registration")}},{key:"guestScreen",value:function(){this.state.supplement.newGuests>0?this.setState({guestScreen:!0}):this.save()}},{key:"changeSession",value:function(e){var t=this,a=this.state.registration;$.ajax({url:"conference/Visitor/Registration/".concat(a.id,"/changeSession"),data:{sessionId:e},dataType:"json",type:"patch",success:function(){window.location.href="conference/Visitor/Registration/".concat(a.id)},error:function(){t.setState({errorScreen:!0})}})}},{key:"render",value:function(){var e=null;if(this.state.registration.id>0&&(e=f.a.createElement(N.a,{registrationId:this.state.registration.id,changeSession:this.changeSession})),this.state.errorScreen)return f.a.createElement("div",null,f.a.createElement("h2",{className:"text-danger"},"Error"),f.a.createElement("p",null,"This page experienced an unrecoverable error. Please contact the site administrators."));if(this.state.loading)return f.a.createElement("div",null,"Loading...");if(this.state.guestScreen)return f.a.createElement("div",null,f.a.createElement("h2",null,this.state.conference.title),f.a.createElement(w,{count:this.state.supplement.newGuests,goBack:this.goBack,guests:this.state.guests,update:this.updateGuest,saveGuests:this.save}));var t=this.state,a=t.supplement,n=t.session,s=t.conference,l=this.state.registration,r=l.guestCount,i=l.mealTickets,o=l.veggieMeals,c=this.state,u=c.totalGuestCost,m=c.totalMealCost,d=c.totalGuests,p=c.totalMeals,g=c.totalVeggie;return f.a.createElement("div",null,f.a.createElement("h2",null,s.title),f.a.createElement("h3",null,n.title," - ",n.eventDateRange),e,f.a.createElement("table",{className:"table table-striped"},f.a.createElement("tbody",null,f.a.createElement("tr",null,f.a.createElement("th",null),f.a.createElement("th",null,"Price"),f.a.createElement("th",null,"Current"),f.a.createElement("th",null,"Additional"),f.a.createElement("th",null,"Total"),f.a.createElement("th",null)),f.a.createElement("tr",{className:"lead"},f.a.createElement("th",null,"Guests"),f.a.createElement("td",null,"$",n.guestCost.toFixed(2)),f.a.createElement("td",null,r),f.a.createElement("td",null,a.newGuests),f.a.createElement("td",null,d),f.a.createElement("td",null,f.a.createElement("button",{className:"btn btn-danger mr-1",onClick:this.decreaseGuests,disabled:this.disableGuestMinus()},f.a.createElement("i",{className:"fas fa-minus"})),f.a.createElement("button",{className:"btn btn-success",onClick:this.increaseGuests,disabled:this.disableGuestPlus()},f.a.createElement("i",{className:"fas fa-plus"})))),1===n.mealService?f.a.createElement("tr",{className:"lead"},f.a.createElement("th",null,1===n.mealIncluded?f.a.createElement("div",null,f.a.createElement("span",null,"Extra meal tickets"),f.a.createElement("span",{className:"small d-block"},"A meal is included with each registration.",f.a.createElement("br",null),"Extra meals are for unregistered participants.")):f.a.createElement("div",null," ",f.a.createElement("span",null,"Meal tickets"),f.a.createElement("span",{className:"small d-block"},"Meals are not included with registration.",f.a.createElement("br",null),"You may prepay here or wait for the day of the event."))),f.a.createElement("td",null,"$",n.mealCost.toFixed(2)),f.a.createElement("td",null,i),f.a.createElement("td",null,a.newMeals),f.a.createElement("td",null,p),f.a.createElement("td",null,f.a.createElement("button",{className:"btn btn-danger mr-1",onClick:this.decreaseMeals,disabled:this.disableMealMinus()},f.a.createElement("i",{className:"fas fa-minus"})),f.a.createElement("button",{className:"btn btn-success",onClick:this.increaseMeals,disabled:this.disableMealPlus()},f.a.createElement("i",{className:"fas fa-plus"})))):null,1===n.mealService?f.a.createElement("tr",{className:"lead"},f.a.createElement("th",null,"Vegetarian meals"),f.a.createElement("td",null),f.a.createElement("td",null,o),f.a.createElement("td",null,a.newVeggie),f.a.createElement("td",null,g),f.a.createElement("td",null,f.a.createElement("button",{className:"btn btn-danger mr-1",onClick:this.decreaseVeggie,disabled:this.disableVeggieMinus()},f.a.createElement("i",{className:"fas fa-minus"})),f.a.createElement("button",{className:"btn btn-success",onClick:this.increaseVeggie,disabled:this.disableVeggiePlus()},f.a.createElement("i",{className:"fas fa-plus"})))):null,f.a.createElement("tr",{className:"lead"},f.a.createElement("th",null,"Total cost"),f.a.createElement("td",{colSpan:"5"},"$",(m+u).toFixed(2))))),f.a.createElement("div",{className:"text-center mb-3"},this.submitButton()),f.a.createElement("div",{className:"text-center"},f.a.createElement("button",{className:"btn btn-danger",onClick:this.cancelSupplement},"Cancel registration additions")))}}]),t}(h.Component);S.propTypes={registrationId:y.a.number},b.a.render(f.a.createElement(S,{registrationId:registrationId}),document.getElementById("Supplement"))},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(8),s=a.n(n),l=a(9),r=a.n(l),i=a(10),o=a.n(i),c=a(6),u=a.n(c),m=a(2),d=a.n(m),p=a(11),g=a.n(p),h=a(0),f=a.n(h),v=a(1),b=a.n(v),E=function(e){function t(e){var a;return s()(this,t),(a=o()(this,u()(t).call(this,e))).state={error:{first:!1,last:!1,email:!1,badEmail:!1}},a.check=a.check.bind(d()(a)),a}return g()(t,e),r()(t,[{key:"check",value:function(e,t){var a=this.state.error,n=t.currentTarget.value,s=""==n;a[e]=s,"email"!==e||a.email||(a.badEmail=null===n.match(/^[\w.%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/),a.badEmail&&(s=!0)),this.setState({error:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.guest,n=t.count,s=t.update;return f.a.createElement("div",{className:"card mb-2"},f.a.createElement("div",{className:"card-body"},f.a.createElement("div",{className:"lead"},f.a.createElement("strong",null,"Guest #",n+1)),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"form-group col-md-4"},f.a.createElement("label",{htmlFor:"firstName"},"First name"),f.a.createElement("input",{type:"text",className:"form-control",name:"firstName",onBlur:function(t){return e.check("first",t)},onChange:function(e){return s(n,"firstName",e)},value:a.firstName}),this.state.error.first?f.a.createElement("span",{className:"badge badge-danger"},"Please fill this in"):null),f.a.createElement("div",{className:"form-group col-md-4"},f.a.createElement("label",{htmlFor:"lastName"},"Last name"),f.a.createElement("input",{type:"text",className:"form-control",name:"lastName",onBlur:function(t){return e.check("last",t)},onChange:function(e){return s(n,"lastName",e)},value:a.lastName}),this.state.error.last?f.a.createElement("span",{className:"badge badge-danger"},"Please fill this in"):null),f.a.createElement("div",{className:"form-group col-md-4"},f.a.createElement("label",{htmlFor:"email"},"Email"),f.a.createElement("input",{type:"text",className:"form-control",name:"email",onBlur:function(t){return e.check("email",t)},onChange:function(e){return s(n,"email",e)},value:a.email}),this.state.error.email?f.a.createElement("span",{className:"badge badge-danger"},"Please fill this in"):null,this.state.error.badEmail?f.a.createElement("span",{className:"badge badge-danger"},"Check your email address"):null))))}}]),t}(h.Component);E.propTypes={guest:b.a.object,count:b.a.number,update:b.a.func}},40:function(e,t,a){"use strict";var n=a(7),s=a.n(n),l=a(0),r=a.n(l),i=a(1),o=a.n(i),c=function(e){var t=Object(l.useState)(!0),a=s()(t,2),n=a[0],i=a[1],o=Object(l.useState)(!1),c=s()(o,2),u=c[0],m=c[1],d=Object(l.useState)([]),p=s()(d,2),g=p[0],h=p[1],f=Object(l.useState)(0),v=s()(f,2),b=v[0],E=v[1];if(Object(l.useEffect)((function(){$.ajax({url:"conference/Visitor/Session/change",data:{registrationId:e.registrationId},dataType:"json",type:"get",success:function(e){e.length&&h(e),i(!1)},error:function(){m(!0)}})}),[]),n)return r.a.createElement("div",null,"Loading sessions...");if(u)return r.a.createElement("div",{className:"alert alert-danger"},"Could not load other sessions.");var y,k=r.a.createElement("div",null,r.a.createElement("em",null,"No alternative sessions available due to cost difference or signup deadlines."));if(1===e.completed&&(y=r.a.createElement("div",{className:"badge badge-info text-white"},"Note: if you have already paid, you may only change to a session of the same cost.")),g.length){var w;w=g.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.title," - ",e.eventDateFormat," - ",e.days," day session")})),k=r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("select",{className:"form-control",onChange:function(e){return E(e.target.value)},value:b},r.a.createElement("option",{disabled:!0,defaultChecked:!0,value:0},"Can't make this session? Pick a different date below."),w)),r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{className:"btn btn-primary",disabled:0==b,onClick:function(){e.changeSession(b)}},"Change my session"))),y)}return r.a.createElement("div",{className:"p-2 mb-2"},k)};c.propTypes={registrationId:o.a.number,completed:o.a.bool,changeSession:o.a.func},t.a=c}});