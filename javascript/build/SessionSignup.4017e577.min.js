!function(e){function t(t){for(var n,i,l=t[0],o=t[1],c=t[2],m=0,d=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);d.length;)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={14:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;r.push([174,0]),a()}({174:function(e,t,a){"use strict";a.r(t);var n=a(31),s=a.n(n),r=a(8),i=a.n(r),l=a(9),o=a.n(l),c=a(10),u=a.n(c),m=a(6),d=a.n(m),p=a(2),f=a.n(p),h=a(11),v=a.n(h),g=a(0),E=a.n(g),b=a(12),y=a.n(b),N=a(1),k=a.n(N),C=function(e){function t(e){var a;return i()(this,t),(a=u()(this,d()(t).call(this,e))).state={},a}return v()(t,e),o()(t,[{key:"guestOptions",value:function(){var e=this.props.session.attendanceCap,t=this.props,a=t.registration,n=t.update;if(0==e)return null;for(var s=[],r=0;r<e;r++)s.push(E.a.createElement("option",{key:r},r));return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-9"},E.a.createElement("label",null,"How many additional family members do you want to register?")),E.a.createElement("div",{className:"col-sm-3"},E.a.createElement("select",{className:"form-control",value:a.guestCount,onChange:n.bind(null,"guestCount")},s.map((function(e){return e})))))}},{key:"mealOptions",value:function(){var e=this.props.session,t=e.mealIncluded,a=e.mealService,n=e.mealCost,s=this.props,r=s.registration,i=s.update;if(0!=n&&0!=a){for(var l=1==t?" extra ":" ",o=1==t?E.a.createElement("span",{className:"small"},"Each parent and guest receives a meal as part of their registration. Extra meals tickets are for those not registered or participating in orientation."):E.a.createElement("span",{className:"small"},"Meals are not included as part of registration. You may prepay now or wait until the day of the event."),c=1==t?E.a.createElement("span",{className:"small"},"Include your registration meal."):null,u=[],m=Number(r.mealTickets)+1,d=0;d<=m;d++)u.push(E.a.createElement("option",{key:d},d));return E.a.createElement("div",null,E.a.createElement("div",{className:"row mt-3"},E.a.createElement("div",{className:"col-sm-9"},E.a.createElement("label",{className:"mb-0"},"How many",l,"meal tickets do you need?"),E.a.createElement("div",null,o)),E.a.createElement("div",{className:"col-sm-3"},E.a.createElement("select",{className:"form-control",value:r.mealTickets,onChange:i.bind(null,"mealTickets")},E.a.createElement("option",null,"0"),E.a.createElement("option",null,"1"),E.a.createElement("option",null,"2"),E.a.createElement("option",null,"3"),E.a.createElement("option",null,"4"),E.a.createElement("option",null,"5"),E.a.createElement("option",null,"6"),E.a.createElement("option",null,"7"),E.a.createElement("option",null,"8"),E.a.createElement("option",null,"9"),E.a.createElement("option",null,"10")))),E.a.createElement("div",{className:"row mt-2"},E.a.createElement("div",{className:"col-sm-9"},E.a.createElement("label",{className:"mb-0"},"How many vegetarian meals do you need?"),c),E.a.createElement("div",{className:"col-sm-3"},E.a.createElement("select",{className:"form-control",value:r.veggieMeals,onChange:i.bind(null,"veggieMeals")},u))))}}},{key:"veggieOptions",value:function(){return E.a.createElement("div",null)}},{key:"fixedDecimal",value:function(e){return Number.parseFloat(e).toFixed(2)}},{key:"pricing",value:function(){var e,t=this.props,a=t.session,n=t.student,s=t.registration,r=a.registerCost;n.discountAmount&&(e=E.a.createElement("span",null," - $",n.discountAmount.toFixed(2)," discount"),r=parseFloat(a.registerCost)-parseFloat(n.discountAmount));var i,l,o=E.a.createElement("tr",null,E.a.createElement("th",null,E.a.createElement("span",null,"Registration cost:"),E.a.createElement("br",null),E.a.createElement("span",{className:"small"},"Registration cost covers one parent's attendance")),E.a.createElement("td",null,"$",a.registerCost.toFixed(2),e),E.a.createElement("td",null,"$",r.toFixed(2)));if(0!==a.guestCost&&s.guestCount>0){var c=this.fixedDecimal(s.guestCount*a.guestCost);i=E.a.createElement("tr",null,E.a.createElement("th",null,"Guest cost:"),E.a.createElement("td",null,"$",a.guestCost.toFixed(2)," x ",s.guestCount),E.a.createElement("td",null,"$",c))}if(0!==a.mealCost&&s.mealTickets>0){var u=this.fixedDecimal(s.mealTickets*a.mealCost);l=E.a.createElement("tr",null,E.a.createElement("th",null,"Meal cost:"),E.a.createElement("td",null,"$",a.mealCost.toFixed(2)," x ",s.mealTickets),E.a.createElement("td",null,"$",u))}return E.a.createElement("table",{className:"table table-striped"},E.a.createElement("tbody",null,o,i,l,E.a.createElement("tr",null,E.a.createElement("td",{colSpan:"2"},E.a.createElement("span",{className:"lead"},"Total session cost:")),E.a.createElement("td",null,E.a.createElement("span",{className:"lead"},"$",this.fixedDecimal(this.props.totalCost()))))))}},{key:"render",value:function(){var e,t=this.guestOptions(),a=this.mealOptions(),n=this.veggieOptions();return this.props.questions&&(e=E.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:this.props.back},"Back to questions")),E.a.createElement("div",null,E.a.createElement("h3",null,"Additions"),t,a,n,E.a.createElement("hr",null),E.a.createElement("div",null,this.pricing()),E.a.createElement("div",{className:"text-center"},e,E.a.createElement("button",{className:"btn btn-primary",onClick:this.props.save},"Save charges and continue")))}}]),t}(g.Component);C.propTypes={registration:k.a.object,save:k.a.func,session:k.a.object,update:k.a.func,totalCost:k.a.func,student:k.a.object,questions:k.a.bool,back:k.a.func},C.defaultProps={};var S=a(46),w=a.n(S),I=function(e){var t=e.visitor,a=e.update,n=e.errors,s=e.check,r=e.save,i=function(e){if(n[e])return"phone"===e?E.a.createElement("div",{className:"badge badge-danger"},"Please check your phone number."):E.a.createElement("div",{className:"badge badge-danger"},"Please complete the above.")};return E.a.createElement("div",null,E.a.createElement("p",null,"Please enter your contact information below."),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-6"},E.a.createElement("label",null,"First name ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("input",{type:"text",name:"firstName",className:"form-control",onChange:a.bind(null,"firstName"),onBlur:function(){s("firstName")},value:t.firstName}),E.a.createElement("div",null,i("firstName"))),E.a.createElement("div",{className:"col-sm-6"},E.a.createElement("label",null,"Last name ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("input",{type:"text",name:"lastName",className:"form-control",onChange:a.bind(null,"lastName"),onBlur:function(){return s("lastName")},value:t.lastName}),E.a.createElement("div",null,i("lastName")))),E.a.createElement("div",{className:"mt-3"},E.a.createElement("label",null,"Address ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("input",{type:"text",name:"address1",className:"form-control",onChange:a.bind(null,"address1"),onBlur:function(){return s("address1")},value:t.address1}),E.a.createElement("div",null,i("address1")),E.a.createElement("input",{type:"text",name:"address2",className:"form-control mt-3",onChange:a.bind(null,"address2"),value:t.address2})),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-4 col-sm-6 mt-3"},E.a.createElement("label",null,"City ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("input",{type:"text",name:"city",className:"form-control",onChange:a.bind(null,"city"),onBlur:function(){return s("city")},value:t.city}),E.a.createElement("div",null,i("city"))),E.a.createElement("div",{className:"col-md-4 col-sm-6 mt-3"},E.a.createElement("label",null,"State"),E.a.createElement(w.a,{value:t.state,handle:a.bind(null,"state")})),E.a.createElement("div",{className:"col-md-4 mt-3"},E.a.createElement("label",null,"Zip code ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("input",{type:"text",name:"zip",className:"form-control",onChange:a.bind(null,"zip"),onBlur:function(){return s("zip")},value:t.zip}),E.a.createElement("div",null,i("zip")))),E.a.createElement("div",{className:"row mt-3"},E.a.createElement("div",{className:"col-sm-6"},E.a.createElement("label",null,"Phone number ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("input",{type:"text",name:"phone",className:"form-control",onChange:function(e){var t=e.target.value;t=t.replace(/[^\.\-\d]/,""),a("phone",t)},onBlur:function(){return s("phone")},value:t.phone}),E.a.createElement("div",null,i("phone")))),E.a.createElement("div",{className:"mt-3 text-center"},E.a.createElement("button",{className:"btn btn-primary",onClick:r},"Save my contact information")))};I.propTypes={visitor:k.a.object,save:k.a.func,update:k.a.func,errors:k.a.object,check:k.a.func};var x=I,j=function(e){var t=e.registration,a=e.signupAllowed;return E.a.createElement("div",null,E.a.createElement("p",{className:"lead"},"Your registration is complete!"),E.a.createElement("p",null,"You may ",E.a.createElement("a",{className:"btn btn-outline-dark",href:"conference/Visitor/Registration/".concat(t.id)},"Review your registration"),a?E.a.createElement("span",null,"  - or - ",E.a.createElement("a",{className:"btn btn-primary",href:"conference/Visitor/Supplement/?registrationId=".concat(t.id)},"Add another guest or meal")):null),E.a.createElement("div",null))};j.propTypes={registration:k.a.object,signupAllowed:k.a.bool};var T=j,V=a(39),O=function(e){function t(e){var a;return i()(this,t),(a=u()(this,d()(t).call(this,e))).update=a.update.bind(f()(a)),a.save=a.save.bind(f()(a)),a}return v()(t,e),o()(t,[{key:"save",value:function(){this.isComplete()&&this.props.save()}},{key:"isComplete",value:function(){var e=!0;return this.props.guests.forEach((function(t){0==t.complete&&(e=!1)})),e}},{key:"update",value:function(e,t,a){var n=a.target.value;this.props.update(e,t,n)}},{key:"render",value:function(){for(var e=parseInt(this.props.registration.guestCount),t=[],a=0;a<e;a++)t.push(E.a.createElement(V.a,{key:a,count:a,completeStatus:this.completeStatus,guest:this.props.guests[a],update:this.update}));return E.a.createElement("div",null,E.a.createElement("h4",null,"Please enter guest information below."),t,E.a.createElement("div",{className:"mt-2 text-center"},E.a.createElement("button",{className:"btn btn-primary",disabled:!this.isComplete(),onClick:this.save},"Save guests and continue")))}}]),t}(g.Component);O.propTypes={registration:k.a.object,update:k.a.func,guests:k.a.array,save:k.a.func,error:k.a.func};var P=a(22),M=a.n(P),R=function(e){var t=e.idx,a=e.info,n=e.update;return"checkbox"===a.type?E.a.createElement("div",{className:"mb-3"},E.a.createElement(M.a,{label:a.question,checked:void 0!==a.answer&&(1===a.answer||!0===a.answer),handle:n.bind(null,t)})):"text"===a.type?E.a.createElement("div",{className:"mb-3"},E.a.createElement("label",{className:"d-inline"},a.question),1===a.required?E.a.createElement("i",{className:"fas fa-asterisk text-danger fa-sm"}):null,E.a.createElement("input",{type:"text",name:"question ".concat(t),placeholder:function(e){if(void 0!==e.error&&!0===e.error)return"Please answer this question before continuing."}(a),className:"form-control",required:1===a.required,value:a.answer,onChange:function(e){return n(t,e.target.value)}})):void 0};R.propTypes={idx:k.a.number,info:k.a.object,registration:k.a.object,update:k.a.func};var q=R,G=function(e){var t=e.visitorInfo,a=e.update,n=e.checkInfo,s=t.map((function(e,t){return E.a.createElement("div",{key:t},E.a.createElement(q,{idx:t,info:e,update:a}),E.a.createElement("hr",null))}));return E.a.createElement("div",null,E.a.createElement("h3",null,"Please answer the following questions..."),E.a.createElement("div",null,s),E.a.createElement("div",{className:"text-center"},E.a.createElement("button",{className:"btn btn-primary",onClick:n},"Save and continue")))};G.propTypes={visitorInfo:k.a.array,update:k.a.func,save:k.a.func,checkInfo:k.a.func};var F=G,A=function(e){var t=e.registration,a=e.totalCost,n=e.visitor,s=e.session,r=e.goBack,i=E.a.createElement("span",null,n.address1);n.address2.length>0&&(i=E.a.createElement("span",null,n.address1,E.a.createElement("br",null),n.address2));return E.a.createElement("div",null,E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-6"},E.a.createElement("h4",null,"My contact information"," ",E.a.createElement("button",{className:"btn btn-info btn-sm",onClick:r.bind(null,"contact")},"Change")),E.a.createElement("table",{className:"table table-striped"},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("th",null,"Name"),E.a.createElement("td",null,n.firstName," ",n.lastName)),E.a.createElement("tr",null,E.a.createElement("th",null,"Username/Email"),E.a.createElement("td",null,n.email)),E.a.createElement("tr",null,E.a.createElement("th",null,"Phone"),E.a.createElement("td",null,n.phone)),E.a.createElement("tr",null,E.a.createElement("th",null,"Address"),E.a.createElement("td",null,i,E.a.createElement("br",null),n.city,", ",n.state," ",n.zip))))),E.a.createElement("div",{className:"col-sm-6"},E.a.createElement("h4",null,"My registration"," ",E.a.createElement("button",{className:"btn btn-info btn-sm",onClick:r.bind(null,"tickets")},"Change")),E.a.createElement("table",{className:"table table-striped"},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,"Number of guests:"),E.a.createElement("td",null,t.guestCount)),0===s.mealService||0==s.mealCost?null:E.a.createElement("tr",null,E.a.createElement("td",null,"Number of ",1===s.mealIncluded?E.a.createElement("span",null,"extra"):null," ","meal tickets:"),E.a.createElement("td",null,t.mealTickets)),0===s.mealService||0==s.mealCost?null:E.a.createElement("tr",null,E.a.createElement("td",null,"Vegetarian meals:"),E.a.createElement("td",null,t.veggieMeals)),E.a.createElement("tr",null,E.a.createElement("th",null,E.a.createElement("span",{className:"lead"},"Total session cost:")),E.a.createElement("th",null,E.a.createElement("span",{className:"lead"},"$",a()))))))),E.a.createElement("a",{className:"btn btn-primary btn-block",href:"./conference/Visitor/Registration/".concat(t.id,"/complete")},"Complete registration"))};A.propTypes={registration:k.a.object,visitor:k.a.object,session:k.a.object,totalCost:k.a.func,goBack:k.a.func};var B=A,z=a(40);a(56);a.d(t,"default",(function(){return D}));var D=function(e){function t(e){var a;return i()(this,t),(a=u()(this,d()(t).call(this,e))).lastStage="",a.questions=!1,a.state={registration:{id:0,conferenceId:0,visitorId:0,sessionId:0,studentId:0,guestCount:0,mealTickets:0,veggieMeals:0,completed:0},student:null,signupAllowed:!0,guests:[],newRegistration:!0,visitorInfo:null,visitor:{firstName:"",lastName:""},stage:"start",errorMessage:!1,errors:{firstName:!1,lastName:!1,address1:!1,city:!1,phone:!1,zip:!1},proceed:!0},a.updateVisitor=a.updateVisitor.bind(f()(a)),a.updateRegistration=a.updateRegistration.bind(f()(a)),a.updateInfo=a.updateInfo.bind(f()(a)),a.forward=a.forward.bind(f()(a)),a.totalCost=a.totalCost.bind(f()(a)),a.checkContact=a.checkContact.bind(f()(a)),a.saveContact=a.saveContact.bind(f()(a)),a.saveRegistration=a.saveRegistration.bind(f()(a)),a.checkInfo=a.checkInfo.bind(f()(a)),a.updateGuest=a.updateGuest.bind(f()(a)),a.saveGuests=a.saveGuests.bind(f()(a)),a.changeSession=a.changeSession.bind(f()(a)),a}return v()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this;this.loadVisitor().then((function(){e.loadRegistration().then((function(){e.loadStudent().then((function(){e.loadVisitorInfo().then((function(){e.loadGuests().then((function(){e.determineStage()}))}))}))}))}))}},{key:"determineStage",value:function(){var e="review";this.registrationComplete()?e="complete":this.visitorDemographicsComplete()?this.questionsComplete()?this.guestsComplete()||(e="guest"):e="conferenceQuestion":e="contact",this.lastState=e,this.setState({stage:e})}},{key:"guestsComplete",value:function(){var e=parseInt(this.state.registration.guestCount);return 0===e||e==this.state.guests.length&&this.state.guests[0].firstName.length>0}},{key:"loadVisitorInfo",value:function(){var e=this;return $.ajax({url:"conference/Visitor/VisitorInfo/",data:{registrationId:this.state.registration.id},dataType:"json",type:"get",success:function(t){e.setState({visitorInfo:t.listing})},error:function(){}})}},{key:"loadStudent",value:function(){var e=this;return $.ajax({url:"conference/Visitor/Student/"+this.state.registration.studentId,dataType:"json",type:"get",success:function(t){e.setState({student:t})},error:function(){}})}},{key:"loadVisitor",value:function(){var e=this;return $.ajax({url:"conference/Visitor/Visitor/current",data:{},dataType:"json",type:"get",success:function(t){e.setState({visitor:t})},error:function(){e.setState({errorMessage:!0})}})}},{key:"loadRegistration",value:function(){var e=this,t=this.props.registrationId;return $.ajax({url:"conference/Visitor/Registration/"+t,data:{},dataType:"json",type:"get",success:function(t){e.setState({registration:t})},error:function(){}})}},{key:"loadGuests",value:function(){var e=this;return $.ajax({url:"conference/Visitor/Guest/",data:{registrationId:this.state.registration.id},dataType:"json",type:"get",success:function(t){var a=t.listing;a.length>0?a.forEach((function(e){e.complete=!0})):a=e.buildGuests(e.state.registration.guestCount),e.setState({guests:a})},error:function(){}})}},{key:"changeSession",value:function(e){var t=this,a=this.state.registration;$.ajax({url:"conference/Visitor/Registration/".concat(a.id,"/changeSession"),data:{sessionId:e},dataType:"json",type:"patch",success:function(){window.location.href="conference/Visitor/Session/".concat(e,"/signup?studentId=").concat(a.studentId)},error:function(){t.setState({errorMessage:!0})}})}},{key:"registrationComplete",value:function(){return 1===this.state.registration.completed}},{key:"questionsComplete",value:function(){var e=this.state.visitorInfo;if(null===e)return!0;var t=!0;return e.forEach((function(e){null!==e.answer&&0!==e.answer.length||(t=!1)})),t}},{key:"saveGuests",value:function(){var e=this;$.ajax({url:"conference/Visitor/Guest/",data:{registrationId:this.state.registration.id,guests:this.state.guests},dataType:"json",type:"post",success:function(){e.lastStage="review",e.setState({stage:"review"})},error:function(){}})}},{key:"checkInfo",value:function(){var e=this.state.visitorInfo,t=!1;e.forEach((function(e){"text"===e.type&&1===e.required&&0===e.answer.length?(e.error=!0,t=!0):e.error=!1})),this.setState({visitorInfo:e}),t||this.saveInfo()}},{key:"saveInfo",value:function(){var e=this;$.ajax({url:"conference/Visitor/VisitorInfo",data:{info:this.state.visitorInfo,registrationId:this.state.registration.id,conferenceId:this.state.registration.conferenceId},dataType:"json",type:"post",success:function(){e.setState({stage:"tickets"})},error:function(){alert("Could not save your information.")}})}},{key:"buildGuests",value:function(e){for(var t=[],a=0;a<e;a++)t[a]={id:0,firstName:"",lastName:"",email:"",complete:!1};return t}},{key:"visitorDemographicsComplete",value:function(){return this.checkContact("firstName")&&this.checkContact("lastName")&&this.checkContact("address1")&&this.checkContact("city")&&this.checkContact("phone")&&this.checkContact("zip")}},{key:"checkContact",value:function(e){var t=this.state,a=t.visitor,n=t.errors;n[e]=0===a[e].length;var s=n.firstName||n.lastName||n.address1||n.city||n.zip;return this.setState({errors:n}),!s}},{key:"updateVisitor",value:function(e,t){"object"===s()(t)&&(t=t.target.value);var a=this.state.visitor;a[e]=t,this.setState({visitor:a})}},{key:"updateRegistration",value:function(e,t){"object"===s()(t)&&(t=t.target.value);var a=this.state.registration;a[e]=t,this.setState({registration:a})}},{key:"saveContact",value:function(){var e=this;$.ajax({url:"./conference/Visitor/Visitor/"+this.state.visitor.id,data:this.state.visitor,dataType:"json",type:"put",success:function(){var t;t=e.questionsComplete()?"review"===e.lastStage?"review":"tickets":"conferenceQuestion",e.setState({stage:t})},error:function(){e.setState({errorMessage:!0})}}),this.setState({stage:"review"})}},{key:"forward",value:function(){switch(this.state.stage){case"contact":this.visitorDemographicsComplete()&&this.saveContact();break;case"conferenceQuestion":this.lastStage="tickets",this.setState({stage:"tickets"});break;case"tickets":parseInt(this.state.registration.guestCount)>0?(0===this.state.guests.length&&this.setState({guests:this.buildGuests(this.state.registration.guestCount)}),this.lastStage="guest"):this.lastStage="review",this.setState({stage:this.lastStage})}}},{key:"saveRegistration",value:function(){var e=this,t=this.state,a=t.registration,n=t.visitor,s={};s.visitorId=n.id,s.sessionId=a.sessionId,s.guestCount=a.guestCount,s.mealTickets=a.guestCount,s.veggieMeals=a.guestCount,s.studentId=a.studentId;var r="post",i="./conference/Visitor/Registration";0!==this.state.registration.id&&(r="put",i=i+"/"+this.state.registration.id),$.ajax({url:i,data:this.state.registration,dataType:"json",type:r,success:function(){e.forward()},error:function(){e.setState({errorMessage:!0})}})}},{key:"totalCost",value:function(){var e=this.state,t=e.registration,a=e.student,n=this.props.session,s=n.registerCost,r=n.guestCost,i=n.mealCost,l=n.mealService,o=Number(s-a.discountAmount);(o+=Number(r)*Number(t.guestCount),1==l)&&(o+=Number(i)*Number(t.mealTickets));return o.toFixed(2)}},{key:"updateInfo",value:function(e,t){var a=this.state.visitorInfo;a[e].answer=t,this.setState({visitorInfo:a})}},{key:"previousSummary",value:function(){var e=this;return E.a.createElement("div",{className:"alert alert-secondary"},E.a.createElement("span",{className:"lead"},"Session cost: $",this.totalCost(),".00"),"-",E.a.createElement("a",{className:"pointer",onClick:function(){return e.setState({stage:"tickets"})}},"Edit"))}},{key:"updateGuest",value:function(e,t,a){var n=this.state.guests,s=n[e];s[t]=a,s.complete=s.firstName.length>0&&s.lastName.length>0&&s.email.length>0&&null!==s.email.match(/^[\w.%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/),this.setState({guests:n})}},{key:"render",value:function(){var e,t=this,a=this.props.session,n=this.state.student;if(this.state.errorMessage)return E.a.createElement("div",{className:"alert alert-danger"},"Sorry, but an error prevented your registration from completing. Please contact us for help.");switch(this.state.stage){case"start":e=E.a.createElement("div",null,"Loading, please wait");break;case"contact":e=E.a.createElement(x,{registration:this.state.registration,save:this.forward,visitor:this.state.visitor,session:a,errors:this.state.errors,check:this.checkContact,update:this.updateVisitor});break;case"tickets":e=1===this.state.registration.completed?E.a.createElement("div",null,"Already complete"):E.a.createElement(C,{back:function(){return t.setState({stage:"conferenceQuestion"})},questions:this.questions,save:this.saveRegistration,totalCost:this.totalCost,registration:this.state.registration,session:a,student:n,update:this.updateRegistration});break;case"conferenceQuestion":e=E.a.createElement(F,{visitorInfo:this.state.visitorInfo,checkInfo:this.checkInfo,update:this.updateInfo,save:this.forward});break;case"guest":e=E.a.createElement(O,{guests:this.state.guests,update:this.updateGuest,registration:this.state.registration,save:this.saveGuests});break;case"review":e=E.a.createElement(B,{visitor:this.state.visitor,registration:this.state.registration,session:a,goBack:function(e){return t.setState({stage:e})},totalCost:this.totalCost});break;case"complete":e=E.a.createElement(T,{registration:this.state.registration,signupAllowed:this.state.signupAllowed})}var s=null;return this.state.registration.id>0&&"review"===this.state.stage&&(s=E.a.createElement(z.a,{registrationId:this.state.registration.id,completed:this.state.registration.completed,changeSession:this.changeSession})),E.a.createElement("div",null,s,E.a.createElement("div",{className:"mb-3"},e))}}]),t}(g.Component);D.propTypes={session:k.a.object,studentId:k.a.number,visitorId:k.a.number,registrationId:k.a.number},y.a.render(E.a.createElement(D,{session:session,studentId:studentId,registrationId:registrationId}),document.getElementById("SessionSignup"))},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(8),s=a.n(n),r=a(9),i=a.n(r),l=a(10),o=a.n(l),c=a(6),u=a.n(c),m=a(2),d=a.n(m),p=a(11),f=a.n(p),h=a(0),v=a.n(h),g=a(1),E=a.n(g),b=function(e){function t(e){var a;return s()(this,t),(a=o()(this,u()(t).call(this,e))).state={error:{first:!1,last:!1,email:!1,badEmail:!1}},a.check=a.check.bind(d()(a)),a}return f()(t,e),i()(t,[{key:"check",value:function(e,t){var a=this.state.error,n=t.currentTarget.value,s=""==n;a[e]=s,"email"!==e||a.email||(a.badEmail=null===n.match(/^[\w.%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/),a.badEmail&&(s=!0)),this.setState({error:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.guest,n=t.count,s=t.update;return v.a.createElement("div",{className:"card mb-2"},v.a.createElement("div",{className:"card-body"},v.a.createElement("div",{className:"lead"},v.a.createElement("strong",null,"Guest #",n+1)),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"form-group col-md-4"},v.a.createElement("label",{htmlFor:"firstName"},"First name"),v.a.createElement("input",{type:"text",className:"form-control",name:"firstName",onBlur:function(t){return e.check("first",t)},onChange:function(e){return s(n,"firstName",e)},value:a.firstName}),this.state.error.first?v.a.createElement("span",{className:"badge badge-danger"},"Please fill this in"):null),v.a.createElement("div",{className:"form-group col-md-4"},v.a.createElement("label",{htmlFor:"lastName"},"Last name"),v.a.createElement("input",{type:"text",className:"form-control",name:"lastName",onBlur:function(t){return e.check("last",t)},onChange:function(e){return s(n,"lastName",e)},value:a.lastName}),this.state.error.last?v.a.createElement("span",{className:"badge badge-danger"},"Please fill this in"):null),v.a.createElement("div",{className:"form-group col-md-4"},v.a.createElement("label",{htmlFor:"email"},"Email"),v.a.createElement("input",{type:"text",className:"form-control",name:"email",onBlur:function(t){return e.check("email",t)},onChange:function(e){return s(n,"email",e)},value:a.email}),this.state.error.email?v.a.createElement("span",{className:"badge badge-danger"},"Please fill this in"):null,this.state.error.badEmail?v.a.createElement("span",{className:"badge badge-danger"},"Check your email address"):null))))}}]),t}(h.Component);b.propTypes={guest:E.a.object,count:E.a.number,update:E.a.func}},40:function(e,t,a){"use strict";var n=a(7),s=a.n(n),r=a(0),i=a.n(r),l=a(1),o=a.n(l),c=function(e){var t=Object(r.useState)(!0),a=s()(t,2),n=a[0],l=a[1],o=Object(r.useState)(!1),c=s()(o,2),u=c[0],m=c[1],d=Object(r.useState)([]),p=s()(d,2),f=p[0],h=p[1],v=Object(r.useState)(0),g=s()(v,2),E=g[0],b=g[1];if(Object(r.useEffect)((function(){$.ajax({url:"conference/Visitor/Session/change",data:{registrationId:e.registrationId},dataType:"json",type:"get",success:function(e){e.length&&h(e),l(!1)},error:function(){m(!0)}})}),[]),n)return i.a.createElement("div",null,"Loading sessions...");if(u)return i.a.createElement("div",{className:"alert alert-danger"},"Could not load other sessions.");var y,N=i.a.createElement("div",null,i.a.createElement("em",null,"No alternative sessions available due to cost difference or signup deadlines."));if(1===e.completed&&(y=i.a.createElement("div",{className:"badge badge-info text-white"},"Note: if you have already paid, you may only change to a session of the same cost.")),f.length){var k;k=f.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.title," - ",e.eventDateFormat," - ",e.days," day session")})),N=i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-9"},i.a.createElement("select",{className:"form-control",onChange:function(e){return b(e.target.value)},value:E},i.a.createElement("option",{disabled:!0,defaultChecked:!0,value:0},"Can't make this session? Pick a different date below."),k)),i.a.createElement("div",{className:"col-3"},i.a.createElement("button",{className:"btn btn-primary",disabled:0==E,onClick:function(){e.changeSession(E)}},"Change my session"))),y)}return i.a.createElement("div",{className:"p-2 mb-2"},N)};c.propTypes={registrationId:o.a.number,completed:o.a.bool,changeSession:o.a.func},t.a=c},56:function(e,t,a){var n=a(57);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(30)(n,s);n.locals&&(e.exports=n.locals)},57:function(e,t,a){(e.exports=a(29)(!1)).push([e.i,"th.option {\n  width: 5%;\n}\n\nth.title {\n  width: 30%;\n}\n\nlabel {\n  display: block;\n  font-weight: bold;\n}\n\n.pointer:hover {\n  cursor: pointer;\n}\n\nth.action {\n  width: 10%;\n}",""])}});