!function(e){function t(t){for(var a,o,l=t[0],s=t[1],u=t[2],m=0,f=[];m<l.length;m++)o=l[m],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(i&&i(t);f.length;)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==c[s]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},c={15:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var i=s;r.push([183,0]),n()}({183:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n.n(a),r=n(9),o=n.n(r),l=n(10),s=n.n(l),u=n(6),i=n.n(u),m=n(2),f=n.n(m),d=n(11),p=n.n(d),v=n(1),b=n.n(v),h=n(0),k=n.n(h),y=n(12),E=n.n(y),g=n(7),j=n.n(g),C=n(25),S=n(26),N=function(){var e=Object(h.useState)(""),t=j()(e,2),n=t[0],a=t[1],c=Object(h.useState)(""),r=j()(c,2),o=r[0],l=r[1],s=Object(h.useState)("save"),u=j()(s,2),i=u[0],m=u[1];Object(h.useEffect)((function(){$.ajax({url:"conference/Admin/Settings/contact",dataType:"json",type:"get",success:function(e){a(e.contactName),l(e.contactEmail)}})}),[]);var f=function(){m("saving"),$.ajax({url:"conference/Admin/Settings/contact",data:{contactName:n,contactEmail:o},dataType:"json",type:"post",success:function(){m("saved")},error:function(){}})};return k.a.createElement("div",{className:"mb-4"},k.a.createElement("h3",null,"Contact"),k.a.createElement("p",null,"The person or entity sent in emails to visitors."),k.a.createElement("div",{className:"row mb-3"},k.a.createElement("div",{className:"col-sm-6"},k.a.createElement("label",null,"Contact name"),k.a.createElement("input",{name:"contactName",onFocus:function(){return m("save")},className:"form-control",value:n,onChange:function(e){a(e.target.value)}})),k.a.createElement("div",{className:"col-sm-6"},k.a.createElement("label",null,"Contact email"),k.a.createElement("input",{name:"contactEmail",onFocus:function(){return m("save")},className:"form-control",value:o,onChange:function(e){l(e.target.value)}}))),k.a.createElement("div",{className:"text-center"},function(){switch(i){case"save":return k.a.createElement("button",{className:"btn btn-success",onClick:f},"Save contact");case"saving":return k.a.createElement("button",{className:"btn btn-outline-success"},k.a.createElement(C.a,{icon:S.c,spin:!0})," Saving...");case"saved":return k.a.createElement("button",{className:"btn btn-success"},k.a.createElement(C.a,{icon:S.a})," Saved!")}}()))},T=n(80),L=n.n(T),O=function(e){L()(e);var t=Object(h.useState)(0),n=j()(t,2),a=n[0],c=n[1],r=Object(h.useState)([]),o=j()(r,2),l=o[0],s=o[1],u=Object(h.useState)(!1),i=j()(u,2),m=i[0],f=i[1];Object(h.useEffect)((function(){$.ajax({url:"conference/Admin/Settings/defaultConference",dataType:"json",type:"get",success:function(e){c(e.defaultConference)}})}),[]),Object(h.useEffect)((function(){$.ajax({url:"conference/Admin/Conference",dataType:"json",type:"get",success:function(e){s(e.listing)},error:function(){}})}),[]);var d,p=function(){$.ajax({url:"conference/Admin/Settings/defaultConference",data:{defaultConference:a},dataType:"json",type:"post",success:function(){f(!0)}})};return k.a.createElement("div",{className:"mb-5"},k.a.createElement("h3",null,"Set default conference"),k.a.createElement("p",null,"Instead of listing all conferences, you may prioritize one conference to show on the front page."),k.a.createElement("select",{value:a,className:"form-control",onChange:function(e){return c(e.target.value)}},((d=l.map((function(e){return k.a.createElement("option",{key:e.id,value:e.id},e.title)}))).unshift(k.a.createElement("option",{value:"0",key:"0"},"Show all conferences on front page.")),d)),m?k.a.createElement("button",{className:"btn btn-success",onClick:p},k.a.createElement(C.a,{icon:S.a}),"Â  Saved!"):k.a.createElement("button",{className:"btn btn-success",onClick:p},"Save"))};O.propTypes={};var w=O;n.d(t,"default",(function(){return x}));var x=function(e){function t(e){var n;return c()(this,t),(n=s()(this,i()(t).call(this,e))).state={locked:[],currentLockedId:0,error:null},n.section="Settings",n.lockedListing=n.lockedListing.bind(f()(n)),n.lockThisComputer=n.lockThisComputer.bind(f()(n)),n.unlockThisComputer=n.unlockThisComputer.bind(f()(n)),n}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.loadLocked()}},{key:"clearError",value:function(){this.setState({error:null})}},{key:"navbarButton",value:function(){}},{key:"getSearch",value:function(){}},{key:"unlockThisComputer",value:function(){var e=this;$.ajax({url:"conference/Admin/Locked/".concat(this.state.currentLockedId),dataType:"json",type:"delete",success:function(){e.loadLocked()},error:function(){}})}},{key:"lockThisComputer",value:function(){var e=this;$.ajax({url:"conference/Admin/Locked/selfLock",dataType:"json",type:"post",success:function(){e.loadLocked()},error:function(){}})}},{key:"loadLocked",value:function(){var e=this;$.ajax({url:"conference/Admin/Locked",dataType:"json",type:"get",success:function(t){e.setState({locked:t.listing,currentLockedId:t.currentLockedId})},error:function(){}})}},{key:"getError",value:function(){if(this.state.error)return k.a.createElement("div",{className:"alert alert-danger"},this.state.error)}},{key:"unlock",value:function(e){var t=this,n=this.state.locked[e].id;$.ajax({url:"conference/Admin/Locked/".concat(n),dataType:"json",type:"delete",success:function(){t.loadLocked()},error:function(){}})}},{key:"lockedListing",value:function(){var e=this,t=this.state.locked;if(0===t.length)return k.a.createElement("p",null,k.a.createElement("em",null,"No locks found."));var n=t.map((function(t,n){return k.a.createElement("tr",{key:n},k.a.createElement("td",{style:{width:"5%"}},k.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){e.unlock(n)}},k.a.createElement("i",{className:"fas fa-unlock"}))),k.a.createElement("td",null,t.ip))}));return k.a.createElement("table",{className:"table"},k.a.createElement("tbody",null,n))}},{key:"render",value:function(){var e=k.a.createElement("button",{className:"btn btn-danger",onClick:this.lockThisComputer},k.a.createElement("i",{className:"fas fa-lock"})," Lock this computer");return this.state.currentLockedId>0&&(e=k.a.createElement("button",{className:"btn btn-success",onClick:this.unlockThisComputer},k.a.createElement("i",{className:"fas fa-unlock"})," Unlock this computer")),k.a.createElement("div",null,this.navbar,k.a.createElement("h2",null,"Settings"),this.getError(),k.a.createElement(N,null),k.a.createElement(w,null),k.a.createElement("div",null,k.a.createElement("h3",null,"Lock computer"),k.a.createElement("p",null,"You may prevent a computer from making online payments by locking it. All registrations will be forced to pay through an administrator."),k.a.createElement("p",null,"This option prevents liability for onsite registration."),k.a.createElement("h3",null,"Currently locked systems"),this.lockedListing(),k.a.createElement("div",{className:"mb-3 text-center"},e)))}}]),t}(h.Component);x.propTypes={locked:b.a.string},E.a.render(k.a.createElement(x,null),document.getElementById("Settings"))},80:function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}}});